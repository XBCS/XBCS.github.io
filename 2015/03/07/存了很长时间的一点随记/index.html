<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>存了很长时间的一点随记 | 丶信步沧桑</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="随记

1.ios9之后默认不支持http, 要求必须是https 并且服务器HTTP协议必须使用1.2版本及以上.         https 在传输数据时 通过二进制层级加密. 传输的是加密数据.
要禁止Ios9阻止 不安全传输.
在Info 中,app Transport Security Settings 添加一个子类 如图.设置YES

或右键info.plist 用原代码的方式打开并输">
<meta property="og:type" content="article">
<meta property="og:title" content="存了很长时间的一点随记">
<meta property="og:url" content="http://xbcs.github.io/2015/03/07/存了很长时间的一点随记/index.html">
<meta property="og:site_name" content="丶信步沧桑">
<meta property="og:description" content="随记

1.ios9之后默认不支持http, 要求必须是https 并且服务器HTTP协议必须使用1.2版本及以上.         https 在传输数据时 通过二进制层级加密. 传输的是加密数据.
要禁止Ios9阻止 不安全传输.
在Info 中,app Transport Security Settings 添加一个子类 如图.设置YES

或右键info.plist 用原代码的方式打开并输">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1431417-e96e8e4aefe5fe28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1431417-3f6494ec469702b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1431417-2a8f9c05e0d2dd62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:image" content="http://upload-images.jianshu.io/upload_images/1431417-7d4f64a62f0d5d54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
<meta property="og:updated_time" content="2016-05-24T02:07:46.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="存了很长时间的一点随记">
<meta name="twitter:description" content="随记

1.ios9之后默认不支持http, 要求必须是https 并且服务器HTTP协议必须使用1.2版本及以上.         https 在传输数据时 通过二进制层级加密. 传输的是加密数据.
要禁止Ios9阻止 不安全传输.
在Info 中,app Transport Security Settings 添加一个子类 如图.设置YES

或右键info.plist 用原代码的方式打开并输">
<meta name="twitter:image" content="http://upload-images.jianshu.io/upload_images/1431417-e96e8e4aefe5fe28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240">
  
    <link rel="alternative" href="/atom.xml" title="丶信步沧桑" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="null" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Zoe Lee</a></h1>
		</hgroup>

		
		<p class="header-subtitle">The more you learn, the more you feel you are ignorant.</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Core-Animation/" style="font-size: 20px;">Core Animation</a> <a href="/tags/FMDB-iOS/" style="font-size: 10px;">FMDB iOS</a> <a href="/tags/OC-知识点-随记/" style="font-size: 10px;">OC 知识点 随记</a> <a href="/tags/React-Native-热更新-iOS/" style="font-size: 15px;">React-Native 热更新 iOS</a> <a href="/tags/objc-OC-Runtime/" style="font-size: 10px;">objc OC Runtime</a> <a href="/tags/吐槽-杂-Bug-ScrollView-Masonry-AutoLayout/" style="font-size: 10px;">吐槽 杂 Bug ScrollView Masonry AutoLayout</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Zoe Lee</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="null" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Zoe Lee</h1>
			</hgroup>
			
			<p class="header-subtitle">The more you learn, the more you feel you are ignorant.</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-存了很长时间的一点随记" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/03/07/存了很长时间的一点随记/" class="article-date">
  	<time datetime="2015-03-07T15:05:19.000Z" itemprop="datePublished">2015-03-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      存了很长时间的一点随记
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/OC-知识点-随记/">OC 知识点 随记</a></li></ul>
	</div>

        

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1>随记</h1>

<p>1.ios9之后默认不支持http, 要求必须是https 并且服务器HTTP协议必须使用1.2版本及以上.<br>         https 在传输数据时 通过二进制层级加密. 传输的是加密数据.</p>
<pre><code>要禁止Ios9阻止 不安全传输.
在Info 中,app Transport Security Settings 添加一个子类 如图.设置YES
</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/1431417-e96e8e4aefe5fe28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20160307_3.png"></p>
<p>或右键info.plist 用原代码的方式打开并输入</p>
<p><img src="http://upload-images.jianshu.io/upload_images/1431417-3f6494ec469702b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20160307_6.png"><br><img src="http://upload-images.jianshu.io/upload_images/1431417-2a8f9c05e0d2dd62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20160307_7.png"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;</span><br><span class="line">    &lt;dict&gt;</span><br><span class="line">        &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;</span><br><span class="line">        &lt;true/&gt;</span><br><span class="line">    &lt;/dict&gt;</span><br></pre></td></tr></table></figure></p>
<pre><code>2.在Iphone中 上传 字符串形式的二进制图片,上传不成功, 解决办法:base64编码
</code></pre><hr>
<pre><code>3.封装了一个NSURLConectionDataDelegete 下载,但
</code></pre><hr>
<pre><code>4.swift 1.2中范围用 0..9    在2.0中用0...9
</code></pre><hr>
<pre><code>5.一定不要相信自己的代码是正确的,想办法测试一下.避免错误
</code></pre><hr>
<pre><code>6.在scrollView及其子类下使用 touchbegin 不会被调用.
 因为scrollView 中有手势,而手势是对touch的封装,所以往往有手势的地方会屏蔽touch的使用.
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">7.多线程, 完成回调在主线程执行代码的方法:</span><br><span class="line">&gt;1.  [self performSelectorOnMainThread: withObject: waitUntilDone:];</span><br><span class="line">&gt;2.  [self performSelector: OnThread:[NSThread mainThread] withObject: waitUntilDone:  ]</span><br><span class="line">&gt;3.   dispatch_async(dispatch_get_main_queue(),^&#123;&#125;)</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>8.子控件的alpha值 不能比 父控件的高; 若子控件alpha值大于父控件alpha值 则以父控件为基准.
</code></pre><hr>
<pre><code>9.如果layer.contents中的像素超出了contents的边界 那么contents支持向外延伸显示.(在此感谢Jayden)
</code></pre><p><img src="http://upload-images.jianshu.io/upload_images/1431417-7d4f64a62f0d5d54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="Snip20160307_10.png"></p>
<pre><code>大致意思是: 如果需要像素显示在长方形之外, contents image 将会支持延伸..
信步英语水平大概3.1级,请将就..
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">10.消息转发机制</span><br><span class="line"></span><br><span class="line">    运行时</span><br><span class="line">调用方法意味着发送消息</span><br><span class="line"></span><br><span class="line">//导入框架 &lt;objc/runtime.h&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1&gt;.自己做一些处理</span><br><span class="line">    +(BOOL)resolveInstanceMethod:(SEL)sel&#123;</span><br><span class="line"></span><br><span class="line">        if(self==@selector(run))&#123;</span><br><span class="line"></span><br><span class="line">        class_addMethod(self,sell,(IMP)eat,@)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2&gt;.实现消息转发</span><br><span class="line">-(id)forwardingTargetForSelector:(SEL)aSelector&#123;</span><br><span class="line">return [[Cat alloc]init];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3&gt;.完整消息转发</span><br><span class="line">// 给方法加个签名</span><br><span class="line"></span><br><span class="line">-(NSMethodSignature *)methhodSignatureForSelector:(SEL)aSelector&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>11.UIAlerViewController 中 的style属性中 取消style  --  Cancle 只能有一个. 否则会崩溃;
</code></pre><hr>
<pre><code>12.UIWindow 的显示: 显示最后一个hidden为NO的 window;  并不是显示keyWindow;  覆盖; 创建Window,hidden属性默认为YES;
</code></pre><hr>
<pre><code>13.description方法是 NSObject的 对象方法 +(NSString *)description;   NSLog中 通过%@ 打印对象 就是调用的description方法;
 重写此方法时,不要在此方法内同时写 &quot;%@&quot;,&apos;&apos;self&apos;&apos;  会死递归
</code></pre><hr>
<pre><code>14.tabBarController中 通过 自身 viewControllers 数组属性的角标 实现跳转,没有modal  show  push方法;      push是NavigationController的自有方法.
</code></pre><hr>
<pre><code>15.修改tabBar或者tabBarItem中的 setTintColor 属性 会把系统默认的两个控制条的渲染颜色都更改;
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">16.字典的枚举遍历</span><br><span class="line">    enumerateKeysAndObjectsWithOptions: usingBlock:</span><br><span class="line">    enumerateKeysAndObjectsUsingBlock:</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>17.分类中不能添加成员变量{NSString *sdf}     能添加属性( @property) 但是要自己实现set get方法  分类中添加属性的其实只是添加了set get方法的声明;
</code></pre><hr>
<pre><code>18.Dealloc在哪个线程执行?

一个对象的dealloc方法会在该对象的引用计数变为0 的线程被调用;
</code></pre><hr>
<pre><code>19.在.m中创建的@property 实例变量 可用KVC拿到.(运行时)
</code></pre><hr>
<pre><code>20.info.plist文件设置
</code></pre><p>不懂英文,一直在欧陆,就不翻译了…附<a href="https://developer.apple.com/library/mac/documentation/General/Reference/InfoPlistKeyReference/Articles/iPhoneOSKeys.html#//apple_ref/doc/uid/TP40009252-SW2" target="_blank" rel="external">iOS keys 官方文档</a></p>
<hr>
<p>21.应用程序启动原理</p>
<p><a href="http://www.cnblogs.com/wendingding/p/3766347.html" target="_blank" rel="external">这是一篇关于程序启动原理和UIApplication的博客</a></p>
<hr>
<pre><code>22.NSOperation 的依赖关系  可以根据UI界面的顺序来实现优先下载;
</code></pre><hr>
<pre><code>23.NSSeesion 可后台下载,也可在程序关闭之后下载;
</code></pre><hr>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">24</span>.</span><br><span class="line">double version = [[UIDevice currentDevice].systemVersion doubleValue];<span class="regexp">//</span>表示当前版本号;</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>25.方法 + (void)load :当某个类或者某个分类加载进内存中时 调用一次; (只会加载一次所以只会调用一次);
加载实在编译时进行的,只要程序中包含某个类的头文件,就会被加载.
</code></pre><hr>
<pre><code>26.block 使用 copy 是从 MRC 遗留下来的“传统”,在 MRC 中,方法内部的 block 是在栈区的,使用 copy 可以把它放到堆区.在 ARC 中写不写都行：对于 block 使用 copy 还是 strong 效果是一样的，但写上 copy 也无伤大雅，还能时刻提醒我们：编译器自动对 block 进行了 copy 操作。如果不写 copy ，该类的调用者有可能会忘记或者根本不知道“编译器会自动对 block 进行了 copy 操作”，他们有可能会在调用之前自行拷贝属性值。这种操作多余而低效。
</code></pre><p>转载..应该是<a href="https://github.com/ChenYilong/iOS9AdaptationTips" target="_blank" rel="external">ChenYilong</a>大牛的,链接就只附到这吧…具体地址烦请自行查找,更能学习很多东西;</p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">27.测试动画时间</span><br><span class="line">let anim = toolbar.layer.animationForKey(&quot;position&quot;)</span><br><span class="line">print(&quot;动画时长 \(anim?.duration)&quot;)</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>28.给uiview添加MotionEffect

就像在Home页的壁纸，随着手机角度移动，壁纸会动。

好像是iOS7出现的.
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">UIInterpolatingMotionEffect * xEffect = [[UIInterpolatingMotionEffect alloc] initWithKeyPath:@&quot;center.x&quot; type:UIInterpolatingMotionEffectTypeTiltAlongHorizontalAxis];</span><br><span class="line">xEffect.minimumRelativeValue =  [NSNumber numberWithFloat:-40.0];</span><br><span class="line">xEffect.maximumRelativeValue = [NSNumber numberWithFloat:40.0];</span><br><span class="line">[img addMotionEffect:xEffect];</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>29.获取正在运行的程序
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">#import &lt;sys/sysctl.h&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- (NSArray *)runningProcesses &#123;</span><br><span class="line">    </span><br><span class="line">    int mib[4] = &#123;CTL_KERN, KERN_PROC, KERN_PROC_ALL, 0&#125;;</span><br><span class="line">    size_t miblen = 4;</span><br><span class="line">    </span><br><span class="line">    size_t size;</span><br><span class="line">    int st = sysctl(mib, miblen, NULL, &amp;size, NULL, 0);</span><br><span class="line">    </span><br><span class="line">    struct kinfo_proc * process = NULL;</span><br><span class="line">    struct kinfo_proc * newprocess = NULL;</span><br><span class="line">    </span><br><span class="line">    do &#123;</span><br><span class="line">        </span><br><span class="line">        size += size / 10;</span><br><span class="line">        newprocess = realloc(process, size);</span><br><span class="line">        </span><br><span class="line">        if (!newprocess)&#123;</span><br><span class="line">            </span><br><span class="line">            if (process)&#123;</span><br><span class="line">                free(process);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            return nil;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        process = newprocess;</span><br><span class="line">        st = sysctl(mib, miblen, process, &amp;size, NULL, 0);   </span><br><span class="line"></span><br><span class="line">       &#125; while (st == -1 &amp;&amp; errno == ENOMEM);if (st == 0)&#123;</span><br><span class="line">        </span><br><span class="line">        if (size % sizeof(struct kinfo_proc) == 0)&#123;</span><br><span class="line">            int nprocess = size / sizeof(struct kinfo_proc);</span><br><span class="line">            </span><br><span class="line">            if (nprocess)&#123;</span><br><span class="line">                </span><br><span class="line">                NSMutableArray * array = [[NSMutableArray alloc] init];</span><br><span class="line">                </span><br><span class="line">                for (int i = nprocess - 1; i &gt;= 0; i--)&#123;</span><br><span class="line">                    </span><br><span class="line">                    NSString * processID = [[NSString alloc]initWithFormat:</span><br><span class="line">                                          @&quot;%d&quot;, process[i].kp_proc.p_pid];</span><br><span class="line"></span><br><span class="line">                    NSString * processName = [[NSString alloc]initWithFormat:</span><br><span class="line">                                           @&quot;%s&quot;, process[i].kp_proc.p_comm];</span><br><span class="line">                    </span><br><span class="line">                    NSDictionary * dict = [[NSDictionary alloc]initWithObjects</span><br><span class="line">                        :[NSArray arrayWithObjects:processID, processName</span><br><span class="line">                                     ,nil] forKeys:[NSArray arrayWithObjects:</span><br><span class="line">                                                         @&quot;ProcessID&quot;, </span><br><span class="line">                                                         @&quot;ProcessName&quot;,</span><br><span class="line">                                                         nil]];</span><br><span class="line">                   </span><br><span class="line">                    [array addObject:dict];</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                free(process);</span><br><span class="line">                return array;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    return nil;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> NSArray * processes = [self runningProcesses];</span><br><span class="line">    for (NSDictionary * dict in processes)&#123;</span><br><span class="line">        NSLog(@&quot;%@ - %@&quot;, [dict objectForKey:@&quot;ProcessID&quot;],</span><br><span class="line">                           [dict objectForKey:@&quot;ProcessName&quot;]);</span><br><span class="line">    &#125;</span><br><span class="line">获取所有已经安装的app</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;objc/runtime.h&gt;</span><br><span class="line"></span><br><span class="line">Class LSApplicationWorkspace_class=objc_getClass(&quot;LSApplicationWorkspace&quot;);</span><br><span class="line"></span><br><span class="line">NSObject* workspace = [LSApplicationWorkspace_class performSelector:</span><br><span class="line">@selector(defaultWorkspace)];</span><br><span class="line"></span><br><span class="line">NSLog(@&quot;apps: %@&quot;, [workspace performSelector:@selector(allApplications)]);</span><br><span class="line"></span><br><span class="line">转载..当时直接copy了...链接就....</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>30.NSNotification必须配对出现


NSNotification有add，必须在dealloc中remove，否则会造成循环引用。另外注意 NSNotification 中的target是阻塞执行的。执行的线程和poster(发送者)一致，如果想更新UI，注意应在main_thread中执行。
</code></pre><hr>
<pre><code>31.NSTimer 的引用问题: 记得invalidate

必须清除NSTimer，否则造成循环引用
</code></pre><hr>
<pre><code>32.滑动的时候隐藏navigationbar

    navigationController.hidesBarsOnSwipe = Yes
</code></pre><hr>
<pre><code>33.多态   父类指针可以接收实例化子类  如 界面传值.  

    UIViewController = segue.destinationViewController;
    这里的segue.destinationViewController  可能是一个任意的UIViewController的子类;
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">34.重写set方法 参数可以随机, 下面是重写了UIImage *image的set方法.</span><br><span class="line">- (void)setImage:(NSString *)image &#123;</span><br><span class="line">    if (_image != [UIImage imageNamed: image]) &#123;</span><br><span class="line">         [_image release];</span><br><span class="line">          _image = [[UIImage imageNamed: image] retain];</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>35.UIControl 的子类: UIButton UIPickerControl  segmentControl 等
</code></pre><hr>
<pre><code>36.修改tabBar或者tabBarItem中的 setTintColor 属性 会把系统默认的两个控制条的渲染颜色都更改;
</code></pre><hr>
<pre><code>37.分类可以添加属性,但系统不会帮我们自动创建带下划线的实例变量也不会帮我们实现 set get方法, 只会声明set get方法;
</code></pre><hr>
<pre><code>38.Button  的contentEdgeInsets,imageEdgeInsets,titleEdgeInsets属性 可改变Button图片的偏移位置. 甚至可超出button的范围显示,详见第9条;
</code></pre><hr>
<pre><code>39.UIImageView 中 animationImages 数组可添加 动画图片; 并通过设置动画执行时间属性animationDuration 和 动画重复次数animationRepeatCount 来设置动画. 再手动调用开始动画,即可实现动画效果 [imageView startAnimating];
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">40.设置button中 image属性图片 的拉伸形式:</span><br><span class="line">    1&gt;.加载背景图片 </span><br><span class="line">    2&gt;.更改模式 </span><br><span class="line">    3&gt;.设置给button</span><br><span class="line"></span><br><span class="line">     1).UIImage *image;   </span><br><span class="line"></span><br><span class="line"> //若只想把图片部分拉伸，而不是全部拉伸，就要用此函数</span><br><span class="line">  2).[image sretchableImageWithLiftCapWidth:  toCapHight:] </span><br><span class="line">//leftCapWidth:左侧不拉伸区域</span><br><span class="line">//topCapHeight:上方不拉伸区域</span><br><span class="line"></span><br><span class="line"> 3).添加</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>41.这是以前记下的找了一上午的Bug,留念..
使用storyBoard加载多控制器不能用alloc init  需要先加载storyBoard 然后通过storyBoard instentiate加载一个控制器. 这样创建的控制器才能加载到你搭建的界面;
</code></pre><hr>
<pre><code>42.添加子控制器的 push方法是导航控制器的方法,只有导航控制器及子类可以使用; show方法是UIViewController的,所有继承自他都可以使用.
</code></pre><hr>
<pre><code>43.modal 与 push    有关联用push   有关联指的是 UINavigationController子控制器;
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    44.统一设置导航栏颜色或 其他全局的外观,需要在AppDelegate中 通过外观代理获取自身的对象 来设置. 外观代理: appearance   </span><br><span class="line">例如统一设置导航栏外观:</span><br><span class="line"></span><br><span class="line">UINavigationBar *bar = [UINavigationBar appearance];    </span><br><span class="line"></span><br><span class="line">[bar setBackgroundImage:[UIImage imageNamed:@&quot;NavBar64&quot;] forBarMetrics:UIBarMetricsDefault];  </span><br><span class="line">NSDictionary *dict = @&#123;NSForegroundColorAttributeName:[UIColor whiteColor]&#125;;    </span><br><span class="line">[bar setTitleTextAttributes:dict];</span><br><span class="line">[bar setTintColor:[UIColor whiteColor]];</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>45.应用程序启动先执行main函数,根据第三个参数创建 UIApplication根据第四个参数创建AppDelegate并赋值给application的delegate属性,然后根据info.plist加载Main.storyboard及LaunchScreen.storyboard 若没有指定Main.storyboard 就会进入AppDelegate 执行application: didFinishLaunchingWithOptions: 
</code></pre><hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    46.如何保持图片最原始的效果，不要渲染</span><br><span class="line"></span><br><span class="line">[image imageWithRenderingMode:UIImageRenderingModeAlwaysOriginal];</span><br></pre></td></tr></table></figure>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">47.</span><br><span class="line"></span><br><span class="line">// 没想到什么,暂用字典转模型随便写一下..</span><br><span class="line"></span><br><span class="line">#import &quot;XBModel&quot;</span><br><span class="line"></span><br><span class="line">@implementation XBModel</span><br><span class="line">// 此为父类方法</span><br><span class="line">+ (instanstype)modelWithDict &#123;</span><br><span class="line"></span><br><span class="line">     id obj = [[self alloc]init];</span><br><span class="line">          [obj setValuesForKeysWithDictionary:dict];</span><br><span class="line">     </span><br><span class="line">      return obj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">子类中: //</span><br><span class="line">      若子类没有重写父类方法,那么调用父类的方法,父类中不使用[self alloc]创建,直接用[XBModel alloc]</span><br><span class="line">      会返回一个父类对象,使子类指针指向父类.</span><br><span class="line"> </span><br><span class="line">      若是只用self则会 父类指针指向子类对象. 即用id又用self则会很灵活,因为返回值是instanstype.</span><br></pre></td></tr></table></figure>
<hr>
<pre><code>48.block速记符号: inline block,能够快速敲出一个block的基本结构
</code></pre><hr>
<pre><code>49.队列优先级被设置成 DISPATCH_QUEUE_PRIORITY_BACKGROUND之后,会被设置成后台级别的队列，它会等待所有比它级别高的队列中的任务执行完或CPU空闲的时候才会执行自己的任务。例如磁盘的读写操作非常耗时，如果我们不需要立即获取到磁盘的数据，我们可以把读写任务放到后台队列中，这样读写任务只会在恰当的时候去执行而不会影响需要更改优先级的其他任务，整个程序也会更加有效率。
</code></pre><hr>
<pre><code>50.viewDidLoad中 还没有进行自动布局,所以控件的Frame是设置的Frame, 而viewDidLayoutSubviews里执行完[super viewDidLayoutSubviews]之后,才是布局后的真正想要的Frame;也可在后续的viewDidApear等controller生命周期方法中获得
</code></pre><hr>
<pre><code>51.Block   本质是结构体,指向结构体的指针
</code></pre><hr>
<pre><code>52.模型继承于NSObject 为了使用KVC
</code></pre><hr>
<pre><code>53.ctr +r 缩排
</code></pre><hr>
<pre><code>54.四句话讲明白Swift闭包:

    1&gt;闭包是一段准备好的代码块,在需要的时候执行
    2&gt;闭包是没有名字的函数
    3&gt;函数是有名字的闭包
    4&gt;只要类型就可以赋值

    Swift中没有指针的概念
</code></pre><hr>
<pre><code>55.重写属性的set方法 不仅可在 赋值之后做一些事情 也可根据需求在赋值之前做一些事情.  Swift 中对应 didSet{}   willSet{}
</code></pre><hr>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">56</span>.</span><br><span class="line"></span><br><span class="line">[[UIImage <span class="symbol">imageNamed:</span>@<span class="string">"uusername"</span>] <span class="symbol">imageWithRenderingMode:</span>UIImageRenderingModeAlwaysOriginal];</span><br><span class="line"><span class="regexp">//</span>图片是白色,代码之后显示绿色,  加上</span><br><span class="line"><span class="symbol">imageWithRenderingMode:</span>UIImageRenderingModeAlwaysOriginal后显示正常</span><br></pre></td></tr></table></figure>
<p><a href="http://www.jianshu.com/p/286cc5d2f707" target="_blank" rel="external">简书链接</a></p>
<hr>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/03/18/Runtime/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Runtime整理
        
      </div>
    </a>
  
  
</nav>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="存了很长时间的一点随记" data-title="存了很长时间的一点随记" data-url="http://xbcs.github.io/2015/03/07/存了很长时间的一点随记/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Zoe Lee
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>